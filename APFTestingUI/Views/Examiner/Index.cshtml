@model APFTestingUI.Models.Examiner.Index

@{
    ViewBag.Title = "Examiner Home";
}

<hgroup>
<h1>Hello Grahame!</h1>
<h3>Welcome to the Examiner home page!</h3>
</hgroup>

@if (Model.PilotAuthorised)
{
    @Html.ActionLink("Add Pilot Candidate", "CreatePilot", "Candidate", new { }, new { @class="button-add" })
}

@if (Model.PackerAuthorised)
{
    @Html.ActionLink("Add Packer Candidate", "CreatePacker", "Candidate", new { }, new { @class="button-add" })
}


<hr />

<table id="candidate-list">
    <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Theory Exam</th>
            <th colspan="2">Practical Exam</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var candidate in Model.Candidates)
        {
            
            <tr class="candidate-list-item">
                <td class="candidate-first-name">
                    @candidate.FirstName
                </td>
                <td class="candidate-last-name">
                    @candidate.LastName
                </td>
                <td class="start-theory-link">
                    
                    @if (candidate.ExamNullOrCreated)
                    {
                        @Html.ActionLink("Start Exam", "Start", "Exam", new { examinerId = Model.ExaminerId, candidateId = candidate.Id }, new { @class = "examinerButton" })
                    }
                    else if (candidate.TheoryComponentInProgress)
                    {
                        @Html.ActionLink("Resume Exam", "Resume", "Exam", new { examId = candidate.LatestExamId }, new { @class = "examinerButton" })
                    }
                    else if (candidate.TheoryComponentFailed)
                    {
                        @Html.ActionLink("Retake Exam", "Start", "Exam", new { examinerId = Model.ExaminerId, candidateId = candidate.Id }, new { @class = "examinerButton" })
                    }
                </td>
                <td class="input-practical-link">
                    @if (candidate.ExamType.Equals("PilotExam"))
                    {
                        @Html.ActionLink("Input Practical Results", "PilotInput", "Practical", new { examId = candidate.LatestExamId, candidateId = candidate.Id }, new { @class = "examinerButton" })
                    }
                    else if (candidate.ExamType.Equals("PackerExam"))
                    {
                        @Html.ActionLink("Input Practical Results", "PackerView", "Practical", new { examId = candidate.LatestExamId, candidateId = candidate.Id }, new { @class = "examinerButton" })
                    }
                </td>
                <td class="reset-cell"><button id="reset" class="examinerButton" type="button">Reset Exam</button></td>
            </tr>
        }
    </tbody>
</table>

