@model APFTestingUI.Models.Examiner.Index

@{
    ViewBag.Title = "Examiner Home";
}

<hgroup>
<h2>Hello Grahame!</h2>
<h3>Welcome to the Examiner home page!</h3>
</hgroup>

<p class="add-candidate"><a href="#">+ Add new Candidate</a></p>
<hr />



<table id="candidate-list">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th colspan="2">Actions</th>
        </tr>    
    @foreach (var candidate in Model.Candidates)
    {
        <tr class="candidate-list-item">
            <td class="candidate-first-name">
                @candidate.FirstName
            </td>
            <td class="candidate-last-name">
                @candidate.LastName
            </td>
            <td class="start-theory-link">
                @{
                    string beginExamUrl;
                    string beginExamButtonText;
                }

                @if (candidate.FreshTheoryComponent)
                {
                    beginExamButtonText = "Start Theory Exam";
                    beginExamUrl = Url.Action("Start","Exam",new { candidateId = candidate.Id });
                }
                else if (candidate.TheoryComponentCompleted)
                {
                    beginExamButtonText = "Review Theory Exam";
                    beginExamUrl = Url.Action("Result", "Exam", new { examId = candidate.LatestExamId });
                }
                else
                {
                    beginExamButtonText = "Resume Theory Exam";
                    beginExamUrl = Url.Action("Resume", "Exam", new { examId = candidate.LatestExamId });
                }

                <button class="button" type="button" onclick="window.location.assign('@beginExamUrl')">@beginExamButtonText</button>
            </td>
            <td class="input-practical-link">
                <button class="button" type="button" onclick="window.location.assign('#')">Input Practical Results</button>
            </td>
        </tr>
    }

</table>