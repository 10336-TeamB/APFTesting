@model APFTestingUI.Models.Exam.QuestionDisplayItem
@{
    ViewBag.Title = "Question " + (Model.Index + 1);
    ViewBag.ExamId = @Model.ExamId;
    Layout = "~/Views/Shared/_QuestionLayout.cshtml";
}

<div id="ExamContainer">
    <h2>Jump Pilot Authorisation Exam</h2>
    
    <div id="progress-bar-outer">
        <div id="progress-bar-inner">
            <span class="hidden">@Model.ExamProgress</span>
        </div>
        <div class="clear"></div>
        <span id="progress-bar-start">Start</span>
        <span id="progress-bar-end">End</span>
        <div class="clear"></div>
    </div>

    <hgroup>
        @{
            int questionNumber = Model.Index + 1;   
        }
        <h3>Question @questionNumber:</h3>
        <h4>@Model.Description</h4>
    </hgroup>

@using (Html.BeginForm("SubmitAnswer", "Exam", FormMethod.Post, new { id = "QuestionForm" }))
{
    @Html.HiddenFor(m => m.ExamId)
    @Html.HiddenFor(m => m.Index)
    @Html.HiddenFor(m => m.NavDirection)
    <fieldset>
        <legend>Question</legend>
        @foreach (var answer in Model.Answers)
        {
            <div class="answer-container">
                @if (Model.NumberOfCorrectAnswers == 1)
                {
                    <input id="ChosenAnswer-@answer.DisplayOrderIndex" type="radio" class="answer-radiobutton" name="ChosenAnswer" value="@answer.DisplayOrderIndex" checked="@answer.IsChecked" />
                }
                else
                {
                    <input id="ChosenAnswer-@answer.DisplayOrderIndex" type="checkbox" class="answer-checkbox" name="ChosenAnswer" value="@answer.DisplayOrderIndex" checked="@answer.IsChecked" />
                }
                <label for="ChosenAnswer-@answer.DisplayOrderIndex" class="Answer-Description">@answer.Description</label>
                
            </div>
        }
    </fieldset>
    <div class="navigation-container">
        @if (!Model.IsFirstQuestion)
        {
            <input id="PreviousButton" class="button" type="button" value="Previous Question" />
        }
        <span id="mark-for-review">
            @Html.LabelFor(model => model.IsMarkedForReview)
            @Html.CheckBoxFor(model => model.IsMarkedForReview)
        </span>
        @if (!Model.IsLastQuestion)
        {
            <input id="NextButton" class="button" type="submit" value="Next Question" />
        }
        @if (Model.IsLastQuestion)
        {
            <input id="SummaryButton" class="button" type="button" value="Go to Summary" />
        }

        <input type="button" onclick="answerQuestion()" value="!!TESTING!!" />

        <div class="clear"></div>
    </div>
    
}

</div>

@section scripts
{
    <script src="~/Scripts/exam.js"></script>
}
